<!-- =========================
PART 1/4 — index.html
SAVE AS: index.html
========================= -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Waqas Electronics — Kot Addu</title>
  <meta name="description" content="Waqas Electronics in Kot Addu — Shop TVs, Fridges, ACs, Washing Machines and more. Order on WhatsApp." />
  <link rel="stylesheet" href="styles.css" />
</head>

<body>
  <!-- Top Bar -->
  <header class="topbar">
    <div class="container topbar__inner">
      <div class="brand">
        <div class="brand__logo">WE</div>
        <div class="brand__text">
          <div class="brand__name">Waqas Electronics</div>
          <div class="brand__tag">Kot Addu • Home Appliances & Electronics</div>
        </div>
      </div>

      <nav class="nav">
        <button class="nav__toggle" id="menuBtn" aria-label="Open menu">☰</button>
        <div class="nav__links" id="navLinks">
          <a href="#home" class="nav__link">Home</a>
          <a href="#shop" class="nav__link">Shop</a>
          <a href="#about" class="nav__link">About</a>
          <a href="#faq" class="nav__link">FAQ</a>
          <a href="#contact" class="nav__link">Contact</a>
          <button class="cartBtn" id="openCartBtn" type="button">
            Cart <span class="badge" id="cartCount">0</span>
          </button>
        </div>
      </nav>
    </div>
  </header>

  <!-- Hero -->
  <section id="home" class="hero">
    <div class="container hero__grid">
      <div class="hero__left">
        <div class="pill">✅ Cash on Delivery • ✅ Warranty Available</div>
        <h1>Shop Electronics in Kot Addu — Fast WhatsApp Ordering</h1>
        <p>
          Browse TVs, ACs, Refrigerators, Washing Machines, and more.
          Add items to cart and place your order directly on WhatsApp.
        </p>

        <div class="hero__actions">
          <a class="btn btn--primary" href="#shop">Start Shopping</a>
          <a class="btn btn--ghost" href="#contact">Get Support</a>
        </div>

        <div class="hero__meta">
          <div class="metaCard">
            <div class="metaCard__title">Delivery</div>
            <div class="metaCard__text">Kot Addu & nearby areas</div>
          </div>
          <div class="metaCard">
            <div class="metaCard__title">Support</div>
            <div class="metaCard__text">WhatsApp ordering</div>
          </div>
          <div class="metaCard">
            <div class="metaCard__title">Products</div>
            <div class="metaCard__text">Latest appliances</div>
          </div>
        </div>
      </div>

      <div class="hero__right">
        <div class="heroCard">
          <div class="heroCard__title">Today’s Deals</div>
          <div class="heroCard__desc">Add to cart, then order on WhatsApp in 1 click.</div>
          <div class="heroCard__banners">
            <div class="banner">0% Installments (optional)</div>
            <div class="banner">Original Products</div>
            <div class="banner">After-sale Support</div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Shop -->
  <section id="shop" class="section">
    <div class="container">
      <div class="section__head">
        <h2>Shop</h2>
        <p>Search, filter by category, and add items to cart.</p>
      </div>

      <div class="controls">
        <input id="searchInput" class="input" type="text" placeholder="Search products (e.g., AC, LED, Fridge)..." />
        <select id="categorySelect" class="select">
          <option value="all">All Categories</option>
        </select>
        <select id="sortSelect" class="select">
          <option value="featured">Sort: Featured</option>
          <option value="priceLow">Price: Low to High</option>
          <option value="priceHigh">Price: High to Low</option>
          <option value="nameAZ">Name: A to Z</option>
        </select>
      </div>

      <div id="productGrid" class="grid"></div>
    </div>
  </section>

  <!-- About -->
  <section id="about" class="section section--alt">
    <div class="container">
      <div class="section__head">
        <h2>About Waqas Electronics</h2>
        <p>Trusted electronics & home appliances shop in Kot Addu.</p>
      </div>

      <div class="twoCol">
        <div class="card">
          <h3>What we sell</h3>
          <ul class="list">
            <li>LED / Smart TVs</li>
            <li>Refrigerators & Freezers</li>
            <li>Washing Machines</li>
            <li>Air Conditioners</li>
            <li>Small Appliances & Accessories</li>
          </ul>
        </div>
        <div class="card">
          <h3>Why customers choose us</h3>
          <ul class="list">
            <li>Warranty guidance & after-sale support</li>
            <li>Fast WhatsApp ordering</li>
            <li>Transparent pricing</li>
            <li>Delivery in Kot Addu area</li>
          </ul>
        </div>
      </div>
    </div>
  </section>

  <!-- FAQ -->
  <section id="faq" class="section">
    <div class="container">
      <div class="section__head">
        <h2>FAQ</h2>
        <p>Quick answers for common questions.</p>
      </div>

      <div class="faq">
        <details class="faqItem">
          <summary>How do I place an order?</summary>
          <div class="faqBody">Add items to cart → fill your details → click “Order on WhatsApp”.</div>
        </details>
        <details class="faqItem">
          <summary>Do you offer cash on delivery?</summary>
          <div class="faqBody">Yes, Cash on Delivery is available in Kot Addu and nearby areas (confirm on WhatsApp).</div>
        </details>
        <details class="faqItem">
          <summary>Is warranty available?</summary>
          <div class="faqBody">Warranty depends on brand/model. We will confirm warranty terms on WhatsApp before finalizing.</div>
        </details>
      </div>
    </div>
  </section>

  <!-- Contact -->
  <section id="contact" class="section section--alt">
    <div class="container">
      <div class="section__head">
        <h2>Contact</h2>
        <p>Update the phone number in app.js to your real WhatsApp number.</p>
      </div>

      <div class="twoCol">
        <div class="card">
          <h3>Store Details</h3>
          <p><b>Shop Name:</b> Waqas Electronics</p>
          <p><b>City:</b> Kot Addu, Punjab, Pakistan</p>
          <p><b>Address:</b> (Put exact address here)</p>
          <p><b>WhatsApp:</b> (Set in app.js)</p>
        </div>

        <div class="card">
          <h3>Customer Details (for WhatsApp Order)</h3>
          <div class="form">
            <input id="custName" class="input" type="text" placeholder="Your Name" />
            <input id="custPhone" class="input" type="text" placeholder="Your Phone Number" />
            <input id="custAddress" class="input" type="text" placeholder="Delivery Address" />
            <textarea id="custNote" class="textarea" placeholder="Note (optional) — color, model, timing, etc."></textarea>
            <button class="btn btn--primary" id="orderNowFromContact" type="button">
              Order on WhatsApp
            </button>
            <div class="tiny">Tip: Add products to cart first for best order message.</div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Cart Drawer -->
  <aside class="cart" id="cartDrawer" aria-hidden="true">
    <div class="cart__header">
      <div>
        <div class="cart__title">Your Cart</div>
        <div class="cart__sub" id="cartSub">0 items</div>
      </div>
      <button class="iconBtn" id="closeCartBtn" aria-label="Close cart">✕</button>
    </div>

    <div class="cart__body" id="cartItems"></div>

    <div class="cart__footer">
      <div class="totalRow">
        <span>Total</span>
        <b id="cartTotal">PKR 0</b>
      </div>
      <button class="btn btn--primary btn--full" id="orderWhatsAppBtn" type="button">
        Order on WhatsApp
      </button>
      <button class="btn btn--ghost btn--full" id="clearCartBtn" type="button">
        Clear Cart
      </button>
      <div class="tiny">Prices are sample — edit products in app.js.</div>
    </div>
  </aside>

  <div class="overlay" id="overlay"></div>

  <footer class="footer">
    <div class="container footer__inner">
      <div>© <span id="year"></span> Waqas Electronics • Kot Addu</div>
      <div class="footer__links">
        <a href="#shop">Shop</a>
        <a href="#contact">Contact</a>
      </div>
    </div>
  </footer>

  <script src="app.js"></script>
</body>
</html>
<!-- ============ END PART 1/4 ============ -->/* =========================
PART 2/4 — styles.css
SAVE AS: styles.css
========================= */
:root{
  --bg:#0b0f19;
  --card:#111827;
  --muted:#94a3b8;
  --text:#e5e7eb;
  --accent:#22c55e;
  --accent2:#60a5fa;
  --border:rgba(148,163,184,.18);
  --shadow: 0 18px 40px rgba(0,0,0,.35);
  --radius:18px;
  --container:1100px;
}

*{box-sizing:border-box}
html,body{margin:0;padding:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;background:linear-gradient(180deg,#070a12,#0b0f19);color:var(--text)}
a{color:inherit;text-decoration:none}
.container{max-width:var(--container);margin:0 auto;padding:0 16px}

.topbar{
  position:sticky;top:0;z-index:50;
  background:rgba(7,10,18,.72);
  backdrop-filter: blur(10px);
  border-bottom:1px solid var(--border);
}
.topbar__inner{display:flex;align-items:center;justify-content:space-between;gap:14px;padding:12px 0}

.brand{display:flex;align-items:center;gap:10px}
.brand__logo{
  width:44px;height:44px;border-radius:14px;
  display:grid;place-items:center;
  background:linear-gradient(135deg,var(--accent),var(--accent2));
  color:#051016;font-weight:900;
}
.brand__name{font-weight:800;letter-spacing:.2px}
.brand__tag{font-size:12px;color:var(--muted)}

.nav{display:flex;align-items:center;gap:10px}
.nav__toggle{display:none}
.nav__links{display:flex;align-items:center;gap:12px}
.nav__link{opacity:.9}
.nav__link:hover{opacity:1}

.cartBtn{
  border:1px solid var(--border);
  background:rgba(17,24,39,.7);
  color:var(--text);
  padding:10px 12px;border-radius:14px;
  cursor:pointer;
}
.badge{
  display:inline-grid;place-items:center;
  min-width:22px;height:22px;
  padding:0 6px;margin-left:6px;
  border-radius:999px;background:var(--accent);
  color:#051016;font-weight:800;font-size:12px;
}

.hero{padding:34px 0 18px}
.hero__grid{display:grid;grid-template-columns: 1.3fr .9fr;gap:18px;align-items:stretch}
.pill{
  display:inline-block;
  border:1px solid var(--border);
  padding:8px 12px;border-radius:999px;
  background:rgba(17,24,39,.55);
  color:var(--text);font-size:13px;
}
.hero h1{margin:14px 0 8px;font-size:38px;line-height:1.1}
.hero p{margin:0;color:var(--muted);max-width:620px}

.hero__actions{display:flex;gap:10px;margin-top:16px;flex-wrap:wrap}
.btn{
  border:1px solid var(--border);
  background:rgba(17,24,39,.55);
  color:var(--text);
  padding:11px 14px;border-radius:14px;
  cursor:pointer;display:inline-flex;align-items:center;justify-content:center;
  font-weight:700;
}
.btn--primary{background:linear-gradient(135deg,var(--accent),var(--accent2));color:#051016;border:none}
.btn--ghost{background:transparent}
.btn--full{width:100%}

.hero__meta{display:flex;gap:10px;margin-top:16px;flex-wrap:wrap}
.metaCard{
  flex:1;min-width:160px;
  border:1px solid var(--border);
  background:rgba(17,24,39,.55);
  border-radius:var(--radius);
  padding:12px;
}
.metaCard__title{font-weight:800;margin-bottom:4px}
.metaCard__text{color:var(--muted);font-size:13px}

.heroCard{
  border:1px solid var(--border);
  background:rgba(17,24,39,.55);
  border-radius:24px;
  padding:16px;
  box-shadow:var(--shadow);
}
.heroCard__title{font-weight:900;font-size:18px}
.heroCard__desc{color:var(--muted);margin-top:6px}
.heroCard__banners{display:grid;gap:10px;margin-top:12px}
.banner{
  border:1px dashed rgba(96,165,250,.45);
  background:rgba(96,165,250,.10);
  padding:10px 12px;border-radius:16px;
  font-weight:700;
}

.section{padding:34px 0}
.section--alt{background:rgba(255,255,255,.03);border-top:1px solid var(--border);border-bottom:1px solid var(--border)}
.section__head h2{margin:0 0 6px;font-size:28px}
.section__head p{margin:0;color:var(--muted)}

.controls{
  margin-top:14px;
  display:grid;
  grid-template-columns: 1.2fr .7fr .7fr;
  gap:10px;
}
.input,.select,.textarea{
  width:100%;
  border:1px solid var(--border);
  background:rgba(17,24,39,.55);
  color:var(--text);
  padding:12px 12px;border-radius:14px;
  outline:none;
}
.textarea{min-height:92px;resize:vertical}

.grid{
  margin-top:14px;
  display:grid;
  grid-template-columns: repeat(3, 1fr);
  gap:12px;
}
.card{
  border:1px solid var(--border);
  background:rgba(17,24,39,.55);
  border-radius:var(--radius);
  padding:14px;
  box-shadow: 0 10px 26px rgba(0,0,0,.22);
}
.productCard{display:flex;flex-direction:column;gap:10px}
.productTop{display:flex;align-items:flex-start;justify-content:space-between;gap:10px}
.productName{font-weight:900}
.productCat{color:var(--muted);font-size:12px;margin-top:3px}
.price{font-weight:900}
.productDesc{color:var(--muted);font-size:13px;line-height:1.4}
.productActions{display:flex;gap:10px;margin-top:auto;flex-wrap:wrap}
.smallBtn{
  padding:10px 12px;border-radius:14px;border:1px solid var(--border);
  background:transparent;color:var(--text);cursor:pointer;font-weight:800;
}
.smallBtn--primary{background:linear-gradient(135deg,var(--accent),var(--accent2));color:#051016;border:none}

.twoCol{display:grid;grid-template-columns:1fr 1fr;gap:12px;margin-top:14px}
.list{margin:10px 0 0;padding-left:18px;color:var(--muted)}
.list li{margin:6px 0}

.faq{margin-top:14px;display:grid;gap:10px}
.faqItem{
  border:1px solid var(--border);
  background:rgba(17,24,39,.55);
  border-radius:var(--radius);
  padding:10px 12px;
}
.faqItem summary{cursor:pointer;font-weight:900}
.faqBody{color:var(--muted);margin-top:8px;line-height:1.45}

.cart{
  position:fixed;top:0;right:-420px;height:100%;width:400px;max-width:92vw;
  background:rgba(7,10,18,.94);
  border-left:1px solid var(--border);
  box-shadow:var(--shadow);
  z-index:80;
  display:flex;flex-direction:column;
  transition:right .22s ease;
}
.cart.open{right:0}
.cart__header{
  display:flex;align-items:center;justify-content:space-between;
  padding:14px;border-bottom:1px solid var(--border);
}
.cart__title{font-weight:900;font-size:18px}
.cart__sub{color:var(--muted);font-size:12px;margin-top:2px}
.iconBtn{
  width:40px;height:40px;border-radius:14px;
  border:1px solid var(--border);
  background:rgba(17,24,39,.55);
  color:var(--text);cursor:pointer;
}
.cart__body{padding:14px;overflow:auto;display:grid;gap:10px}
.cartItem{
  border:1px solid var(--border);
  background:rgba(17,24,39,.55);
  border-radius:16px;padding:10px;
}
.cartItemTop{display:flex;align-items:flex-start;justify-content:space-between;gap:10px}
.cartItemName{font-weight:900}
.cartItemMeta{color:var(--muted);font-size:12px;margin-top:2px}
.qtyRow{display:flex;align-items:center;justify-content:space-between;margin-top:10px;gap:10px}
.qtyBtns{display:flex;gap:8px;align-items:center}
.qtyBtn{
  width:34px;height:34px;border-radius:12px;
  border:1px solid var(--border);
  background:transparent;color:var(--text);cursor:pointer;font-weight:900;
}
.removeBtn{border:none;background:transparent;color:#fca5a5;font-weight:900;cursor:pointer}
.cart__footer{padding:14px;border-top:1px solid var(--border);display:grid;gap:10px}
.totalRow{display:flex;align-items:center;justify-content:space-between}

.overlay{
  position:fixed;inset:0;background:rgba(0,0,0,.45);
  z-index:70;opacity:0;pointer-events:none;transition:opacity .2s ease;
}
.overlay.show{opacity:1;pointer-events:auto}

.footer{padding:18px 0;border-top:1px solid var(--border);color:var(--muted)}
.footer__inner{display:flex;align-items:center;justify-content:space-between;gap:10px;flex-wrap:wrap}
.footer__links{display:flex;gap:12px}
.tiny{color:var(--muted);font-size:12px;margin-top:6px}

@media (max-width: 920px){
  .hero__grid{grid-template-columns:1fr}
  .grid{grid-template-columns: repeat(2, 1fr)}
  .controls{grid-template-columns:1fr}
  .twoCol{grid-template-columns:1fr}
  .nav__toggle{display:inline-flex;width:44px;height:44px;border-radius:14px;border:1px solid var(--border);background:rgba(17,24,39,.55);color:var(--text);align-items:center;justify-content:center;cursor:pointer}
  .nav__links{
    position:absolute;right:16px;top:68px;
    background:rgba(7,10,18,.95);
    border:1px solid var(--border);
    border-radius:18px;
    padding:10px;
    display:none;
    flex-direction:column;
    width:min(280px, calc(100vw - 32px));
  }
  .nav__links.open{display:flex}
}
@media (max-width: 560px){
  .hero h1{font-size:30px}
  .grid{grid-template-columns:1fr}
}
/* ============ END PART 2/4 ============ *//* =========================
PART 3/4 — app.js (FULL)
SAVE AS: app.js
========================= */

/* 1) SET YOUR WHATSAPP NUMBER HERE
   Format: country code + number, no + sign, no spaces
   Pakistan example: 923001234567
*/
const STORE_WHATSAPP = "923001234567"; // <-- CHANGE THIS
const STORE_NAME = "Waqas Electronics (Kot Addu)";

const products = [
  { id: 1, name: "Smart LED TV 43-inch", category: "LED TVs", price: 89999, desc: "4K Smart TV with vibrant display and Wi-Fi apps." },
  { id: 2, name: "Smart LED TV 55-inch", category: "LED TVs", price: 134999, desc: "Large screen 4K TV ideal for home entertainment." },
  { id: 3, name: "Refrigerator 12 cu.ft", category: "Refrigerators", price: 114999, desc: "Energy efficient cooling with fast freezing." },
  { id: 4, name: "Inverter AC 1.5 Ton", category: "Air Conditioners", price: 174999, desc: "Power saving inverter AC with quick cooling." },
  { id: 5, name: "Washing Machine 8kg", category: "Washing Machines", price: 89999, desc: "Durable wash programs with efficient spinning." },
  { id: 6, name: "Microwave Oven", category: "Small Appliances", price: 28999, desc: "Fast heating with multiple modes." },
  { id: 7, name: "Blender & Grinder", category: "Small Appliances", price: 10999, desc: "Daily kitchen use with strong motor." },
  { id: 8, name: "HDMI Cable (2m)", category: "Accessories", price: 999, desc: "High quality HDMI cable for TV and devices." },
];

let cart = []; // [{id, qty}]

/* ---------- Helpers ---------- */
const PKR = (n) => `PKR ${Number(n).toLocaleString("en-PK")}`;
const byId = (id) => document.getElementById(id);

function getProduct(id){
  return products.find(p => p.id === id);
}
function cartCount(){
  return cart.reduce((sum, item) => sum + item.qty, 0);
}
function cartTotal(){
  return cart.reduce((sum, item) => sum + (getProduct(item.id).price * item.qty), 0);
}
function setYear(){
  const y = new Date().getFullYear();
  const el = byId("year");
  if(el) el.textContent = y;
}

/* ---------- UI Elements ---------- */
const productGrid = () => byId("productGrid");
const categorySelect = () => byId("categorySelect");
const searchInput = () => byId("searchInput");
const sortSelect = () => byId("sortSelect");

const cartDrawer = () => byId("cartDrawer");
const overlay = () => byId("overlay");
const cartItemsEl = () => byId("cartItems");
const cartCountEl = () => byId("cartCount");
const cartTotalEl = () => byId("cartTotal");
const cartSubEl = () => byId("cartSub");

/* ---------- Render Categories ---------- */
function renderCategories(){
  const cats = ["all", ...Array.from(new Set(products.map(p => p.category)))];
  categorySelect().innerHTML = cats.map(c => {
    const label = c === "all" ? "All Categories" : c;
    return `<option value="${c}">${label}</option>`;
  }).join("");
}

/* ---------- Render Products ---------- */
function getFilteredProducts(){
  const q = (searchInput().value || "").trim().toLowerCase();
  const cat = categorySelect().value;

  let list = [...products];

  if(cat !== "all"){
    list = list.filter(p => p.category === cat);
  }
  if(q){
    list = list.filter(p =>
      p.name.toLowerCase().includes(q) ||
      p.category.toLowerCase().includes(q) ||
      p.desc.toLowerCase().includes(q)
    );
  }

  const sortVal = sortSelect().value;
  if(sortVal === "priceLow") list.sort((a,b)=>a.price-b.price);
  if(sortVal === "priceHigh") list.sort((a,b)=>b.price-a.price);
  if(sortVal === "nameAZ") list.sort((a,b)=>a.name.localeCompare(b.name));

  return list;
}

function renderProducts(){
  const list = getFilteredProducts();
  productGrid().innerHTML = list.map(p => `
    <div class="card productCard">
      <div class="productTop">
        <div>
          <div class="productName">${p.name}</div>
          <div class="productCat">${p.category}</div>
        </div>
        <div class="price">${PKR(p.price)}</div>
      </div>
      <div class="productDesc">${p.desc}</div>
      <div class="productActions">
        <button class="smallBtn smallBtn--primary" onclick="addToCart(${p.id})">Add to Cart</button>
        <button class="smallBtn" onclick="quickWhatsApp(${p.id})">WhatsApp</button>
      </div>
    </div>
  `).join("");

  if(list.length === 0){
    productGrid().innerHTML = `<div class="card">No products found. Try another search.</div>`;
  }
}

/* ---------- Cart Operations ---------- */
function addToCart(id){
  const existing = cart.find(i => i.id === id);
  if(existing) existing.qty += 1;
  else cart.push({id, qty: 1});
  updateCartUI();
  openCart();
}

function incQty(id){
  const item = cart.find(i => i.id === id);
  if(item) item.qty += 1;
  updateCartUI();
}

function decQty(id){
  const item = cart.find(i => i.id === id);
  if(!item) return;
  item.qty -= 1;
  if(item.qty <= 0){
    cart = cart.filter(i => i.id !== id);
  }
  updateCartUI();
}

function removeItem(id){
  cart = cart.filter(i => i.id !== id);
  updateCartUI();
}

function clearCart(){
  cart = [];
  updateCartUI();
}

/* ---------- Render Cart ---------- */
function renderCart(){
  const count = cartCount();
  cartCountEl().textContent = count;
  cartSubEl().textContent = `${count} item${count===1?"":"s"}`;
  cartTotalEl().textContent = PKR(cartTotal());

  if(cart.length === 0){
    cartItemsEl().innerHTML = `<div class="card">Your cart is empty. Add products to order on WhatsApp.</div>`;
    return;
  }

  cartItemsEl().innerHTML = cart.map(item => {
    const p = getProduct(item.id);
    return `
      <div class="cartItem">
        <div class="cartItemTop">
          <div>
            <div class="cartItemName">${p.name}</div>
            <div class="cartItemMeta">${p.category} • ${PKR(p.price)}</div>
          </div>
          <button class="removeBtn" onclick="removeItem(${p.id})">Remove</button>
        </div>
        <div class="qtyRow">
          <div><b>${PKR(p.price * item.qty)}</b></div>
          <div class="qtyBtns">
            <button class="qtyBtn" onclick="decQty(${p.id})">−</button>
            <b>${item.qty}</b>
            <button class="qtyBtn" onclick="incQty(${p.id})">+</button>
          </div>
        </div>
      </div>
    `;
  }).join("");
}

function updateCartUI(){
  renderCart();
}

/* ---------- WhatsApp Message ---------- */
function buildCustomerBlock(){
  const name = (byId("custName")?.value || "").trim();
  const phone = (byId("custPhone")?.value || "").trim();
  const addr = (byId("custAddress")?.value || "").trim();
  const note = (byId("custNote")?.value || "").trim();

  let out = "";
  if(name) out += `Name: ${name}\n`;
  if(phone) out += `Phone: ${phone}\n`;
  if(addr) out += `Address: ${addr}\n`;
  if(note) out += `Note: ${note}\n`;
  return out.trim();
}

function buildCartLines(){
  if(cart.length === 0) return "Cart: (empty)\n";
  let lines = "Order Items:\n";
  cart.forEach(item => {
    const p = getProduct(item.id);
    lines += `- ${p.name} x ${item.qty} = ${PKR(p.price * item.qty)}\n`;
  });
  lines += `\nTotal: ${PKR(cartTotal())}\n`;
  return lines;
}

function openWhatsAppWithText(text){
  const encoded = encodeURIComponent(text);
  const url = `https://wa.me/${STORE_WHATSAPP}?text=${encoded}`;
  window.open(url, "_blank");
}

function orderOnWhatsApp(){
  const cust = buildCustomerBlock();
  const cartText = buildCartLines();
  const msg =
`Assalam-o-Alaikum ${STORE_NAME}!
I want to place an order.

${cartText}
${cust ? `\nCustomer Details:\n${cust}\n` : ""}

Please confirm availability, final price, and delivery time.`;

  openWhatsAppWithText(msg);
}

function quickWhatsApp(productId){
  const p = getProduct(productId);
  const msg =
`Assalam-o-Alaikum ${STORE_NAME}!
I want details for:
- ${p.name}
Category: ${p.category}
Price (sample): ${PKR(p.price)}

Please share availability, exact price, warranty, and delivery time.`;
  openWhatsAppWithText(msg);
}

/* ---------- Drawer Controls ---------- */
function openCart(){
  cartDrawer().classList.add("open");
  cartDrawer().setAttribute("aria-hidden", "false");
  overlay().classList.add("show");
}
function closeCart(){
  cartDrawer().classList.remove("open");
  cartDrawer().setAttribute("aria-hidden", "true");
  overlay().classList.remove("show");
}

/* ---------- Mobile Menu ---------- */
function toggleMenu(){
  byId("navLinks").classList.toggle("open");
}

/* ---------- Init ---------- */
function init(){
  setYear();
  renderCategories();
  renderProducts();
  updateCartUI();

  byId("menuBtn").addEventListener("click", toggleMenu);
  byId("openCartBtn").addEventListener("click", openCart);
  byId("closeCartBtn").addEventListener("click", closeCart);
  overlay().addEventListener("click", closeCart);

  searchInput().addEventListener("input", renderProducts);
  categorySelect().addEventListener("change", renderProducts);
  sortSelect().addEventListener("change", renderProducts);

  byId("orderWhatsAppBtn").addEventListener("click", orderOnWhatsApp);
  byId("orderNowFromContact").addEventListener("click", orderOnWhatsApp);

  byId("clearCartBtn").addEventListener("click", clearCart);
}

window.addToCart = addToCart;
window.quickWhatsApp = quickWhatsApp;
window.incQty = incQty;
window.decQty = decQty;
window.removeItem = removeItem;

document.addEventListener("DOMContentLoaded", init);

/* ============ END PART 3/4 ============ */